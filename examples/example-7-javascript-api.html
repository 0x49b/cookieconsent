<!DOCTYPE html>
<html lang="en">
<head>
  <base href="../">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Advanced - Location</title>

  <link href="examples/style.css" rel="stylesheet">

<body role="document">

  <div class="center-outer fit">
    <div class="center-inner">
      <div class="example-window" role="main">
        <h1>Javascript API</h1>
        <p>Fire JavaScript events to see what happens.</p>

        <div class="btn-group">
        Popup: 
          <button type="button" class="btn" id="btn-open">Open</button>
          <button type="button" class="btn" id="btn-close">Close</button>
        </div>

        <div class="btn-group">
        Set status:
          <button type="button" class="btn" id="btn-dismissCookie">Dismissed</button>
          <button type="button" class="btn" id="btn-allowCookie">Allowed</button>
          <button type="button" class="btn" id="btn-denyCookie">Denied</button>
          <button type="button" class="btn" id="btn-revokeChoice">Revoke choice</button>
        </div>

        <pre id="console" style="display:block;"></pre>

        <button onclick="javascript: window.location = './examples/example-6-location.html';">Prev</button>
        <button onclick="javascript: window.location = './examples/example-1-themes.html';">Next</button>
      </div>
    </div>
  </div>

<script src="build/cookieconsent.min.js"></script>
<script>

  var h = document.getElementById('console');

  function timeStamp() {
    var now = new Date();
    var time = [ now.getHours(), now.getMinutes(), now.getSeconds() ];
    for ( var i = 1; i < 3; i++ ) {
      if ( time[i] < 10 ) {
        time[i] = "0" + time[i];
      }
    }
    return '['+time.join(":")+'] ';
  }

  var p = cookieconsent.factory({
    type: 'opt-out',
    palette: {"popup": {"background": '#252e39'},"button": {"background": '#14a7d0'}},
    onPopupOpen: function() {
      h.innerHTML += timeStamp() + 'Hook "onPopupOpen" called.<br />';
    },
    onPopupClose: function() {
      h.innerHTML += timeStamp() + 'Hook "onPopupClose" called.<br />';
    },
    onStatusChange: function(status) {
      h.innerHTML += timeStamp() + 'Cookie status set as <strong>'+status+'</strong> using <i>setStatus()</i>.<br />';
      h.innerHTML += timeStamp() + 'Hook "onStatusChange" called with argument <strong>'+status+'</strong>.<br />';
    },
    onRevokeChoice: function() {
      h.innerHTML += timeStamp() + 'Cookis status removed using <i>clearStatus()</i>.<br />';
      h.innerHTML += timeStamp() + 'Hook "onRevokeChoice" called.<br />';
    },
  });


  document.getElementById('btn-dismissCookie').onclick = function (e) {
    p.setStatus(cookieconsent.status.dismiss);
  };

  document.getElementById('btn-allowCookie').onclick = function (e) {
    p.setStatus(cookieconsent.status.allow);
  };

  document.getElementById('btn-denyCookie').onclick = function (e) {
    p.setStatus(cookieconsent.status.deny);
  };

  document.getElementById('btn-revokeChoice').onclick = function (e) {
    p.options.onRevokeChoice();
    p.clearStatus();
    p.open();
  };

  document.getElementById('btn-open').onclick = function (e) {
    p.open();
  };
  
  
  document.getElementById('btn-close').onclick = function (e) {
    p.close();
  };


</script>
