<!DOCTYPE html>
<html lang="en">
<head>
  <base href="../">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Advanced - Location</title>

  <link href="examples/style.css" rel="stylesheet">

  <style>
    #message {height: 5em}
    #message>table {margin: 0 auto;}
  </style>

<body role="document">

  <div class="center-outer fit">
    <div class="center-inner">
      <div class="example-window" role="main">
        <h1>Location demo</h1>
        <p>Choose a country and see how the banner could change</p>

        <div style="margin: 30px">
          <label>Country</label>
          <select id="location" class="selectbox"></select>
        </div>

        <div id="message"></div>

        <button onclick="javascript: window.location = './examples/example-5-opt-in.html';">Prev</button>
        <button onclick="javascript: window.location = './examples/example-7-javascript-api.html';">Next</button>
      </div>
    </div>
  </div>

<script src="examples/script.js"></script>
<script src="build/cookieconsent.min.js"></script>
<script>
  var COUNTRY_CODES = {AC: 'Ascension Island', AD: 'Andorra', AE: 'United Arab Emirates', AF: 'Afghanistan', AG: 'Antigua and Barbuda', AI: 'Anguilla', AL: 'Albania', AM: 'Armenia', AN: 'Netherlands Antilles', AO: 'Angola', AQ: 'Antarctica', AR: 'Argentina', AS: 'American Samoa', AT: 'Austria', AU: 'Australia', AW: 'Aruba', AX: 'Aland Islands', AZ: 'Azerbaijan', BA: 'Bosnia and Herzegovina', BB: 'Barbados', BD: 'Bangladesh', BE: 'Belgium', BF: 'Burkina Faso', BG: 'Bulgaria', BH: 'Bahrain', BI: 'Burundi', BJ: 'Benin', BM: 'Bermuda', BN: 'Brunei Darussalam', BO: 'Bolivia', BR: 'Brazil', BS: 'Bahamas', BT: 'Bhutan', BV: 'Bouvet Island', BW: 'Botswana', BY: 'Belarus', BZ: 'Belize', CA: 'Canada', CC: 'Cocos (Keeling) Islands', CD: 'Congo, Democratic Republic', CF: 'Central African Republic', CG: 'Congo', CH: 'Switzerland', CI: 'Cote D\'Ivoire (Ivory Coast)', CK: 'Cook Islands', CL: 'Chile', CM: 'Cameroon', CN: 'China', CO: 'Colombia', CR: 'Costa Rica', CS: 'Czechoslovakia (former)', CU: 'Cuba', CV: 'Cape Verde', CX: 'Christmas Island', CY: 'Cyprus', CZ: 'Czech Republic', DE: 'Germany', DJ: 'Djibouti', DK: 'Denmark', DM: 'Dominica', DO: 'Dominican Republic', DZ: 'Algeria', EC: 'Ecuador', EE: 'Estonia', EG: 'Egypt', EH: 'Western Sahara', ER: 'Eritrea', ES: 'Spain', ET: 'Ethiopia', EU: 'European Union', FI: 'Finland', FJ: 'Fiji', FK: 'Falkland Islands (Malvinas)', FM: 'Micronesia', FO: 'Faroe Islands', FR: 'France', FX: 'France, Metropolitan', GA: 'Gabon', GB: 'Great Britain (UK)', GD: 'Grenada', GE: 'Georgia', GF: 'French Guiana', GG: 'Guernsey', GH: 'Ghana', GI: 'Gibraltar', GL: 'Greenland', GM: 'Gambia', GN: 'Guinea', GP: 'Guadeloupe', GQ: 'Equatorial Guinea', GR: 'Greece', GS: 'S. Georgia and S. Sandwich Isls.', GT: 'Guatemala', GU: 'Guam', GW: 'Guinea-Bissau', GY: 'Guyana', HK: 'Hong Kong', HM: 'Heard and McDonald Islands', HN: 'Honduras', HR: 'Croatia (Hrvatska)', HT: 'Haiti', HU: 'Hungary', ID: 'Indonesia', IE: 'Ireland', IL: 'Israel', IM: 'Isle of Man', IN: 'India', IO: 'British Indian Ocean Territory', IQ: 'Iraq', IR: 'Iran', IS: 'Iceland', IT: 'Italy', JE: 'Jersey', JM: 'Jamaica', JO: 'Jordan', JP: 'Japan', KE: 'Kenya', KG: 'Kyrgyzstan', KH: 'Cambodia', KI: 'Kiribati', KM: 'Comoros', KN: 'Saint Kitts and Nevis', KP: 'Korea (North)', KR: 'Korea (South)', KW: 'Kuwait', KY: 'Cayman Islands', KZ: 'Kazakhstan', LA: 'Laos', LB: 'Lebanon', LC: 'Saint Lucia', LI: 'Liechtenstein', LK: 'Sri Lanka', LR: 'Liberia', LS: 'Lesotho', LT: 'Lithuania', LU: 'Luxembourg', LV: 'Latvia', LY: 'Libya', MA: 'Morocco', MC: 'Monaco', MD: 'Moldova', ME: 'Montenegro', MG: 'Madagascar', MH: 'Marshall Islands', MK: 'F.Y.R.O.M. (Macedonia)', ML: 'Mali', MM: 'Myanmar', MN: 'Mongolia', MO: 'Macau', MP: 'Northern Mariana Islands', MQ: 'Martinique', MR: 'Mauritania', MS: 'Montserrat', MT: 'Malta', MU: 'Mauritius', MV: 'Maldives', MW: 'Malawi', MX: 'Mexico', MY: 'Malaysia', MZ: 'Mozambique', NA: 'Namibia', NC: 'New Caledonia', NE: 'Niger', NF: 'Norfolk Island', NG: 'Nigeria', NI: 'Nicaragua', NL: 'Netherlands', NO: 'Norway', NP: 'Nepal', NR: 'Nauru', NT: 'Neutral Zone', NU: 'Niue', NZ: 'New Zealand (Aotearoa)', OM: 'Oman', PA: 'Panama', PE: 'Peru', PF: 'French Polynesia', PG: 'Papua New Guinea', PH: 'Philippines', PK: 'Pakistan', PL: 'Poland', PM: 'St. Pierre and Miquelon', PN: 'Pitcairn', PR: 'Puerto Rico', PS: 'Palestinian Territory, Occupied', PT: 'Portugal', PW: 'Palau', PY: 'Paraguay', QA: 'Qatar', RE: 'Reunion', RS: 'Serbia', RO: 'Romania', RU: 'Russian Federation', RW: 'Rwanda', SA: 'Saudi Arabia', SB: 'Solomon Islands', SC: 'Seychelles', SD: 'Sudan', SE: 'Sweden', SG: 'Singapore', SH: 'St. Helena', SI: 'Slovenia', SJ: 'Svalbard & Jan Mayen Islands', SK: 'Slovak Republic', SL: 'Sierra Leone', SM: 'San Marino', SN: 'Senegal', SO: 'Somalia', SR: 'Suriname', ST: 'Sao Tome and Principe', SU: 'USSR (former)', SV: 'El Salvador', SY: 'Syria', SZ: 'Swaziland', TC: 'Turks and Caicos Islands', TD: 'Chad', TF: 'French Southern Territories', TG: 'Togo', TH: 'Thailand', TJ: 'Tajikistan', TK: 'Tokelau', TM: 'Turkmenistan', TN: 'Tunisia', TO: 'Tonga', TP: 'East Timor', TR: 'Turkey', TT: 'Trinidad and Tobago', TV: 'Tuvalu', TW: 'Taiwan', TZ: 'Tanzania', UA: 'Ukraine', UG: 'Uganda', UK: 'United Kingdom', UM: 'US Minor Outlying Islands', US: 'United States', UY: 'Uruguay', UZ: 'Uzbekistan', VA: 'Vatican City State (Holy See)', VC: 'Saint Vincent & the Grenadines', VE: 'Venezuela', VG: 'British Virgin Islands', VI: 'Virgin Islands (U.S.)', VN: 'Viet Nam', VU: 'Vanuatu', WF: 'Wallis and Futuna Islands', WS: 'Samoa', YE: 'Yemen', YT: 'Mayotte', YU: 'Serbia and Montenegro (former Yugoslavia)', ZA: 'South Africa', ZM: 'Zambia', ZR: 'Zair', ZW: 'Zimbabwe'};

  (function (C, U) {

    var elems = U.createInputs(['location']);

    var updater = U.createUpdater(elems, draw.bind(null, '__cookieconsent_popup'));

    U.fillSelect(elems.location, COUNTRY_CODES, COUNTRY_CODES['AC'])

    updater(); // trigger the first update
    elems.location.focus(); // focus the first input



    function draw(name, inputs) {
      var code = inputs.location;

      // applyLaw takes the "preffered" options and changes them slightly to match the countries law
      var options = getOptions(inputs);
      options.countryCode = code;

      if (!window[name]) {
        window[name] = cookieconsent.factory(options);
      } else {
        window[name].clearStatus();
        window[name].initialise(options);
      }
      window[name].open();

      // show country options on screen (so user knows how this country affected the settings)
      document.getElementById('message').innerHTML = getCountryDetails(code);
    }

    function getOptions(input) {
      return {
        type: 'info',
        revokable: 'false',
        regionalLaw: true,
        palette: {"popup":{"background":"#343c66","text":"#cfcfe8"},"button":{"background":"#f71559"}}
      }
    }

    function getCountryDetails(code) {
      // we only get these to show (on screen) how the country behaves 
      var countryOpts = cookieconsent.law.get(code);

      if (!countryOpts.hasLaw) {
        return '"' + COUNTRY_CODES[code] + '" <b>does not</b> have the cookie law!';
      }

      return U.tabularObject({
        'Choice has to be revokable?': U.yn(countryOpts.revokable),
        'Cannot be autodismissed?': U.yn(countryOpts.explicitAction),
      });
    }

  }(window.cookieconsent, window.cookieconsent_example_util));

</script>
